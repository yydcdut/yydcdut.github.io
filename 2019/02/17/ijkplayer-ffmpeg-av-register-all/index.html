<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> ijkplayer框架简析 -- av_register_all · Android杂文 - yydcdut</title><meta name="description" content="ijkplayer框架简析 -- av_register_all - yydcdut"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yydcdut.com/atom.xml" title="Android杂文 - yydcdut"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/yydcdut/yydcdut.github.io/issues" target="_blank" class="nav-list-link">COMMENT</a></li><li class="nav-list-item"><a href="https://github.com/yydcdut" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">ijkplayer框架简析 -- av_register_all</h1><div class="post-info">2019年2月17日</div><div class="post-content"><p><code>av_register_all()</code> 是所有使用 FFmpeg 编程中调用的第一个函数。其主要功能是注册所有的 formats 和 protocols</p>
<a id="more"></a>
<h2 id="av-register-all"><a href="#av-register-all" class="headerlink" title="av_register_all"></a>av_register_all</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">define</span> REGISTER_MUXER(X, x)                                            \</span><br><span class="line">    &#123;                                                                   \</span><br><span class="line">        extern AVOutputFormat ff_##x##_muxer;                           \</span><br><span class="line">        <span class="keyword">if</span> (CONFIG_##X##_MUXER)                                         \</span><br><span class="line">            av_register_output_format(&amp;ff_##x##_muxer);                 \</span><br><span class="line">    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> REGISTER_DEMUXER(X, x)                                          \</span><br><span class="line">    &#123;                                                                   \</span><br><span class="line">        extern AVInputFormat ff_##x##_demuxer;                          \</span><br><span class="line">        <span class="keyword">if</span> (CONFIG_##X##_DEMUXER)                                       \</span><br><span class="line">            av_register_input_format(&amp;ff_##x##_demuxer);                \</span><br><span class="line">    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> REGISTER_MUXDEMUX(X, x) REGISTER_MUXER(X, x); REGISTER_DEMUXER(X, x)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">register_all</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    avcodec_register_all();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* (de)muxers */</span></span><br><span class="line">    REGISTER_MUXER   (A64,              a64);</span><br><span class="line">    REGISTER_DEMUXER (AA,               aa);</span><br><span class="line">    REGISTER_DEMUXER (AAC,              aac);</span><br><span class="line">    REGISTER_MUXDEMUX(AC3,              ac3);</span><br><span class="line">    REGISTER_DEMUXER (ACM,              acm);</span><br><span class="line">    REGISTER_DEMUXER (ACT,              act);</span><br><span class="line">    REGISTER_DEMUXER (ADF,              adf);</span><br><span class="line">    REGISTER_DEMUXER (ADP,              adp);</span><br><span class="line">    REGISTER_DEMUXER (ADS,              ads);</span><br><span class="line">    REGISTER_MUXER   (ADTS,             adts);</span><br><span class="line">    REGISTER_MUXDEMUX(ADX,              adx);</span><br><span class="line">    REGISTER_DEMUXER (AEA,              aea);</span><br><span class="line">    REGISTER_DEMUXER (AFC,              afc);</span><br><span class="line">    REGISTER_MUXDEMUX(AIFF,             aiff);</span><br><span class="line">    REGISTER_DEMUXER (AIX,              aix);</span><br><span class="line">    REGISTER_MUXDEMUX(AMR,              amr);</span><br><span class="line">    REGISTER_DEMUXER (ANM,              anm);</span><br><span class="line">    REGISTER_DEMUXER (APC,              apc);</span><br><span class="line">    REGISTER_DEMUXER (APE,              ape);</span><br><span class="line">    REGISTER_MUXDEMUX(APNG,             apng);</span><br><span class="line">    REGISTER_DEMUXER (AQTITLE,          aqtitle);</span><br><span class="line">    REGISTER_MUXDEMUX(ASF,              asf);</span><br><span class="line">    REGISTER_DEMUXER (ASF_O,            asf_o);</span><br><span class="line">    REGISTER_MUXDEMUX(ASS,              ass);</span><br><span class="line">    REGISTER_MUXDEMUX(AST,              ast);</span><br><span class="line">    REGISTER_MUXER   (ASF_STREAM,       asf_stream);</span><br><span class="line">    REGISTER_MUXDEMUX(AU,               au);</span><br><span class="line">    REGISTER_MUXDEMUX(AVI,              avi);</span><br><span class="line">    REGISTER_DEMUXER (AVISYNTH,         avisynth);</span><br><span class="line">    REGISTER_MUXER   (AVM2,             avm2);</span><br><span class="line">    REGISTER_DEMUXER (AVR,              avr);</span><br><span class="line">    REGISTER_DEMUXER (AVS,              avs);</span><br><span class="line">    REGISTER_DEMUXER (BETHSOFTVID,      bethsoftvid);</span><br><span class="line">    REGISTER_DEMUXER (BFI,              bfi);</span><br><span class="line">    REGISTER_DEMUXER (BINTEXT,          bintext);</span><br><span class="line">    REGISTER_DEMUXER (BINK,             bink);</span><br><span class="line">    REGISTER_MUXDEMUX(BIT,              bit);</span><br><span class="line">    REGISTER_DEMUXER (BMV,              bmv);</span><br><span class="line">    REGISTER_DEMUXER (BFSTM,            bfstm);</span><br><span class="line">    REGISTER_DEMUXER (BRSTM,            brstm);</span><br><span class="line">    REGISTER_DEMUXER (BOA,              boa);</span><br><span class="line">    REGISTER_DEMUXER (C93,              c93);</span><br><span class="line">    REGISTER_MUXDEMUX(CAF,              caf);</span><br><span class="line">    REGISTER_MUXDEMUX(CAVSVIDEO,        cavsvideo);</span><br><span class="line">    REGISTER_DEMUXER (CDG,              cdg);</span><br><span class="line">    REGISTER_DEMUXER (CDXL,             cdxl);</span><br><span class="line">    REGISTER_DEMUXER (CINE,             cine);</span><br><span class="line">    REGISTER_DEMUXER (CONCAT,           concat);</span><br><span class="line">    REGISTER_MUXER   (CRC,              crc);</span><br><span class="line">    REGISTER_MUXDEMUX(DASH,             dash);</span><br><span class="line">    REGISTER_MUXDEMUX(DATA,             data);</span><br><span class="line">    REGISTER_MUXDEMUX(DAUD,             daud);</span><br><span class="line">    REGISTER_DEMUXER (DCSTR,            dcstr);</span><br><span class="line">    REGISTER_DEMUXER (DFA,              dfa);</span><br><span class="line">    REGISTER_MUXDEMUX(DIRAC,            dirac);</span><br><span class="line">    REGISTER_MUXDEMUX(DNXHD,            dnxhd);</span><br><span class="line">    REGISTER_DEMUXER (DSF,              dsf);</span><br><span class="line">    REGISTER_DEMUXER (DSICIN,           dsicin);</span><br><span class="line">    REGISTER_DEMUXER (DSS,              dss);</span><br><span class="line">    REGISTER_MUXDEMUX(DTS,              dts);</span><br><span class="line">    REGISTER_DEMUXER (DTSHD,            dtshd);</span><br><span class="line">    REGISTER_MUXDEMUX(DV,               dv);</span><br><span class="line">    REGISTER_DEMUXER (DVBSUB,           dvbsub);</span><br><span class="line">    REGISTER_DEMUXER (DVBTXT,           dvbtxt);</span><br><span class="line">    REGISTER_DEMUXER (DXA,              dxa);</span><br><span class="line">    REGISTER_DEMUXER (EA,               ea);</span><br><span class="line">    REGISTER_DEMUXER (EA_CDATA,         ea_cdata);</span><br><span class="line">    REGISTER_MUXDEMUX(EAC3,             eac3);</span><br><span class="line">    REGISTER_DEMUXER (EPAF,             epaf);</span><br><span class="line">    REGISTER_MUXER   (F4V,              f4v);</span><br><span class="line">    REGISTER_MUXDEMUX(FFM,              ffm);</span><br><span class="line">    REGISTER_MUXDEMUX(FFMETADATA,       ffmetadata);</span><br><span class="line">    REGISTER_MUXER   (FIFO,             fifo);</span><br><span class="line">    REGISTER_MUXDEMUX(FILMSTRIP,        filmstrip);</span><br><span class="line">    REGISTER_MUXDEMUX(FITS,             fits);</span><br><span class="line">    REGISTER_MUXDEMUX(FLAC,             flac);</span><br><span class="line">    REGISTER_DEMUXER (FLIC,             flic);</span><br><span class="line">    REGISTER_MUXDEMUX(FLV,              flv);</span><br><span class="line">    REGISTER_DEMUXER (LIVE_FLV,         live_flv);</span><br><span class="line">    REGISTER_DEMUXER (FOURXM,           fourxm);</span><br><span class="line">    REGISTER_MUXER   (FRAMECRC,         framecrc);</span><br><span class="line">    REGISTER_MUXER   (FRAMEHASH,        framehash);</span><br><span class="line">    REGISTER_MUXER   (FRAMEMD5,         framemd5);</span><br><span class="line">    REGISTER_DEMUXER (FRM,              frm);</span><br><span class="line">    REGISTER_DEMUXER (FSB,              fsb);</span><br><span class="line">    REGISTER_MUXDEMUX(G722,             g722);</span><br><span class="line">    REGISTER_MUXDEMUX(G723_1,           g723_1);</span><br><span class="line">    REGISTER_MUXDEMUX(G726,             g726);</span><br><span class="line">    REGISTER_MUXDEMUX(G726LE,           g726le);</span><br><span class="line">    REGISTER_DEMUXER (G729,             g729);</span><br><span class="line">    REGISTER_DEMUXER (GDV,              gdv);</span><br><span class="line">    REGISTER_DEMUXER (GENH,             genh);</span><br><span class="line">    REGISTER_MUXDEMUX(GIF,              gif);</span><br><span class="line">    REGISTER_MUXDEMUX(GSM,              gsm);</span><br><span class="line">    REGISTER_MUXDEMUX(GXF,              gxf);</span><br><span class="line">    REGISTER_MUXDEMUX(H261,             h261);</span><br><span class="line">    REGISTER_MUXDEMUX(H263,             h263);</span><br><span class="line">    REGISTER_MUXDEMUX(H264,             h264);</span><br><span class="line">    REGISTER_MUXER   (HASH,             hash);</span><br><span class="line">    REGISTER_MUXER   (HDS,              hds);</span><br><span class="line">    REGISTER_MUXDEMUX(HEVC,             hevc);</span><br><span class="line">    REGISTER_MUXDEMUX(HLS,              hls);</span><br><span class="line">    REGISTER_DEMUXER (HNM,              hnm);</span><br><span class="line">    REGISTER_MUXDEMUX(ICO,              ico);</span><br><span class="line">    REGISTER_DEMUXER (IDCIN,            idcin);</span><br><span class="line">    REGISTER_DEMUXER (IDF,              idf);</span><br><span class="line">    REGISTER_DEMUXER (IFF,              iff);</span><br><span class="line">    REGISTER_MUXDEMUX(ILBC,             ilbc);</span><br><span class="line">    REGISTER_MUXDEMUX(IMAGE2,           image2);</span><br><span class="line">    REGISTER_MUXDEMUX(IMAGE2PIPE,       image2pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE2_ALIAS_PIX, image2_alias_pix);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE2_BRENDER_PIX, image2_brender_pix);</span><br><span class="line">    REGISTER_DEMUXER (INGENIENT,        ingenient);</span><br><span class="line">    REGISTER_DEMUXER (IPMOVIE,          ipmovie);</span><br><span class="line">    REGISTER_MUXER   (IPOD,             ipod);</span><br><span class="line">    REGISTER_MUXDEMUX(IRCAM,            ircam);</span><br><span class="line">    REGISTER_MUXER   (ISMV,             ismv);</span><br><span class="line">    REGISTER_DEMUXER (ISS,              iss);</span><br><span class="line">    REGISTER_DEMUXER (IV8,              iv8);</span><br><span class="line">    REGISTER_MUXDEMUX(IVF,              ivf);</span><br><span class="line">    REGISTER_DEMUXER (IVR,              ivr);</span><br><span class="line">    REGISTER_MUXDEMUX(JACOSUB,          jacosub);</span><br><span class="line">    REGISTER_DEMUXER (JV,               jv);</span><br><span class="line">    REGISTER_MUXER   (LATM,             latm);</span><br><span class="line">    REGISTER_DEMUXER (LMLM4,            lmlm4);</span><br><span class="line">    REGISTER_DEMUXER (LOAS,             loas);</span><br><span class="line">    REGISTER_MUXDEMUX(LRC,              lrc);</span><br><span class="line">    REGISTER_DEMUXER (LVF,              lvf);</span><br><span class="line">    REGISTER_DEMUXER (LXF,              lxf);</span><br><span class="line">    REGISTER_MUXDEMUX(M4V,              m4v);</span><br><span class="line">    REGISTER_MUXER   (MD5,              md5);</span><br><span class="line">    REGISTER_MUXDEMUX(MATROSKA,         matroska);</span><br><span class="line">    REGISTER_MUXER   (MATROSKA_AUDIO,   matroska_audio);</span><br><span class="line">    REGISTER_DEMUXER (MGSTS,            mgsts);</span><br><span class="line">    REGISTER_MUXDEMUX(MICRODVD,         microdvd);</span><br><span class="line">    REGISTER_MUXDEMUX(MJPEG,            mjpeg);</span><br><span class="line">    REGISTER_DEMUXER (MJPEG_2000,       mjpeg_2000);</span><br><span class="line">    REGISTER_MUXDEMUX(MLP,              mlp);</span><br><span class="line">    REGISTER_DEMUXER (MLV,              mlv);</span><br><span class="line">    REGISTER_DEMUXER (MM,               mm);</span><br><span class="line">    REGISTER_MUXDEMUX(MMF,              mmf);</span><br><span class="line">    REGISTER_MUXDEMUX(MOV,              mov);</span><br><span class="line">    REGISTER_MUXER   (MP2,              mp2);</span><br><span class="line">    REGISTER_MUXDEMUX(MP3,              mp3);</span><br><span class="line">    REGISTER_MUXER   (MP4,              mp4);</span><br><span class="line">    REGISTER_DEMUXER (MPC,              mpc);</span><br><span class="line">    REGISTER_DEMUXER (MPC8,             mpc8);</span><br><span class="line">    REGISTER_MUXER   (MPEG1SYSTEM,      mpeg1system);</span><br><span class="line">    REGISTER_MUXER   (MPEG1VCD,         mpeg1vcd);</span><br><span class="line">    REGISTER_MUXER   (MPEG1VIDEO,       mpeg1video);</span><br><span class="line">    REGISTER_MUXER   (MPEG2DVD,         mpeg2dvd);</span><br><span class="line">    REGISTER_MUXER   (MPEG2SVCD,        mpeg2svcd);</span><br><span class="line">    REGISTER_MUXER   (MPEG2VIDEO,       mpeg2video);</span><br><span class="line">    REGISTER_MUXER   (MPEG2VOB,         mpeg2vob);</span><br><span class="line">    REGISTER_DEMUXER (MPEGPS,           mpegps);</span><br><span class="line">    REGISTER_MUXDEMUX(MPEGTS,           mpegts);</span><br><span class="line">    REGISTER_DEMUXER (MPEGTSRAW,        mpegtsraw);</span><br><span class="line">    REGISTER_DEMUXER (MPEGVIDEO,        mpegvideo);</span><br><span class="line">    REGISTER_MUXDEMUX(MPJPEG,           mpjpeg);</span><br><span class="line">    REGISTER_DEMUXER (MPL2,             mpl2);</span><br><span class="line">    REGISTER_DEMUXER (MPSUB,            mpsub);</span><br><span class="line">    REGISTER_DEMUXER (MSF,              msf);</span><br><span class="line">    REGISTER_DEMUXER (MSNWC_TCP,        msnwc_tcp);</span><br><span class="line">    REGISTER_DEMUXER (MTAF,             mtaf);</span><br><span class="line">    REGISTER_DEMUXER (MTV,              mtv);</span><br><span class="line">    REGISTER_DEMUXER (MUSX,             musx);</span><br><span class="line">    REGISTER_DEMUXER (MV,               mv);</span><br><span class="line">    REGISTER_DEMUXER (MVI,              mvi);</span><br><span class="line">    REGISTER_MUXDEMUX(MXF,              mxf);</span><br><span class="line">    REGISTER_MUXER   (MXF_D10,          mxf_d10);</span><br><span class="line">    REGISTER_MUXER   (MXF_OPATOM,       mxf_opatom);</span><br><span class="line">    REGISTER_DEMUXER (MXG,              mxg);</span><br><span class="line">    REGISTER_DEMUXER (NC,               nc);</span><br><span class="line">    REGISTER_DEMUXER (NISTSPHERE,       nistsphere);</span><br><span class="line">    REGISTER_DEMUXER (NSV,              nsv);</span><br><span class="line">    REGISTER_MUXER   (<span class="literal">NULL</span>,             null);</span><br><span class="line">    REGISTER_MUXDEMUX(NUT,              nut);</span><br><span class="line">    REGISTER_DEMUXER (NUV,              nuv);</span><br><span class="line">    REGISTER_MUXER   (OGA,              oga);</span><br><span class="line">    REGISTER_MUXDEMUX(OGG,              ogg);</span><br><span class="line">    REGISTER_MUXER   (OGV,              ogv);</span><br><span class="line">    REGISTER_MUXDEMUX(OMA,              oma);</span><br><span class="line">    REGISTER_MUXER   (OPUS,             opus);</span><br><span class="line">    REGISTER_DEMUXER (PAF,              paf);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_ALAW,         pcm_alaw);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_MULAW,        pcm_mulaw);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_F64BE,        pcm_f64be);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_F64LE,        pcm_f64le);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_F32BE,        pcm_f32be);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_F32LE,        pcm_f32le);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_S32BE,        pcm_s32be);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_S32LE,        pcm_s32le);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_S24BE,        pcm_s24be);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_S24LE,        pcm_s24le);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_S16BE,        pcm_s16be);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_S16LE,        pcm_s16le);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_S8,           pcm_s8);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_U32BE,        pcm_u32be);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_U32LE,        pcm_u32le);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_U24BE,        pcm_u24be);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_U24LE,        pcm_u24le);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_U16BE,        pcm_u16be);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_U16LE,        pcm_u16le);</span><br><span class="line">    REGISTER_MUXDEMUX(PCM_U8,           pcm_u8);</span><br><span class="line">    REGISTER_DEMUXER (PJS,              pjs);</span><br><span class="line">    REGISTER_DEMUXER (PMP,              pmp);</span><br><span class="line">    REGISTER_MUXER   (PSP,              psp);</span><br><span class="line">    REGISTER_DEMUXER (PVA,              pva);</span><br><span class="line">    REGISTER_DEMUXER (PVF,              pvf);</span><br><span class="line">    REGISTER_DEMUXER (QCP,              qcp);</span><br><span class="line">    REGISTER_DEMUXER (R3D,              r3d);</span><br><span class="line">    REGISTER_MUXDEMUX(RAWVIDEO,         rawvideo);</span><br><span class="line">    REGISTER_DEMUXER (REALTEXT,         realtext);</span><br><span class="line">    REGISTER_DEMUXER (REDSPARK,         redspark);</span><br><span class="line">    REGISTER_DEMUXER (RL2,              rl2);</span><br><span class="line">    REGISTER_MUXDEMUX(RM,               rm);</span><br><span class="line">    REGISTER_MUXDEMUX(ROQ,              roq);</span><br><span class="line">    REGISTER_DEMUXER (RPL,              rpl);</span><br><span class="line">    REGISTER_DEMUXER (RSD,              rsd);</span><br><span class="line">    REGISTER_MUXDEMUX(RSO,              rso);</span><br><span class="line">    REGISTER_MUXDEMUX(RTP,              rtp);</span><br><span class="line">    REGISTER_MUXER   (RTP_MPEGTS,       rtp_mpegts);</span><br><span class="line">    REGISTER_MUXDEMUX(RTSP,             rtsp);</span><br><span class="line">    REGISTER_DEMUXER (S337M,            s337m);</span><br><span class="line">    REGISTER_DEMUXER (SAMI,             sami);</span><br><span class="line">    REGISTER_MUXDEMUX(SAP,              sap);</span><br><span class="line">    REGISTER_DEMUXER (SBG,              sbg);</span><br><span class="line">    REGISTER_MUXDEMUX(SCC,              scc);</span><br><span class="line">    REGISTER_DEMUXER (SDP,              sdp);</span><br><span class="line">    REGISTER_DEMUXER (SDR2,             sdr2);</span><br><span class="line">    REGISTER_DEMUXER (SDS,              sds);</span><br><span class="line">    REGISTER_DEMUXER (SDX,              sdx);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">if</span> CONFIG_RTPDEC</span></span><br><span class="line">    ff_register_rtp_dynamic_payload_handlers();</span><br><span class="line">    ff_register_rdt_dynamic_payload_handlers();</span><br><span class="line"><span class="preprocessor">#<span class="keyword">endif</span></span></span><br><span class="line">    REGISTER_DEMUXER (SEGAFILM,         segafilm);</span><br><span class="line">    REGISTER_MUXER   (SEGMENT,          segment);</span><br><span class="line">    REGISTER_MUXER   (SEGMENT,          stream_segment);</span><br><span class="line">    REGISTER_DEMUXER (SHORTEN,          shorten);</span><br><span class="line">    REGISTER_DEMUXER (SIFF,             siff);</span><br><span class="line">    REGISTER_MUXER   (SINGLEJPEG,       singlejpeg);</span><br><span class="line">    REGISTER_DEMUXER (SLN,              sln);</span><br><span class="line">    REGISTER_DEMUXER (SMACKER,          smacker);</span><br><span class="line">    REGISTER_MUXDEMUX(SMJPEG,           smjpeg);</span><br><span class="line">    REGISTER_MUXER   (SMOOTHSTREAMING,  smoothstreaming);</span><br><span class="line">    REGISTER_DEMUXER (SMUSH,            smush);</span><br><span class="line">    REGISTER_DEMUXER (SOL,              sol);</span><br><span class="line">    REGISTER_MUXDEMUX(SOX,              sox);</span><br><span class="line">    REGISTER_MUXER   (SPX,              spx);</span><br><span class="line">    REGISTER_MUXDEMUX(SPDIF,            spdif);</span><br><span class="line">    REGISTER_MUXDEMUX(SRT,              srt);</span><br><span class="line">    REGISTER_DEMUXER (STR,              str);</span><br><span class="line">    REGISTER_DEMUXER (STL,              stl);</span><br><span class="line">    REGISTER_DEMUXER (SUBVIEWER1,       subviewer1);</span><br><span class="line">    REGISTER_DEMUXER (SUBVIEWER,        subviewer);</span><br><span class="line">    REGISTER_MUXDEMUX(SUP,              sup);</span><br><span class="line">    REGISTER_DEMUXER (SVAG,             svag);</span><br><span class="line">    REGISTER_MUXDEMUX(SWF,              swf);</span><br><span class="line">    REGISTER_DEMUXER (TAK,              tak);</span><br><span class="line">    REGISTER_MUXER   (TEE,              tee);</span><br><span class="line">    REGISTER_DEMUXER (TEDCAPTIONS,      tedcaptions);</span><br><span class="line">    REGISTER_MUXER   (TG2,              tg2);</span><br><span class="line">    REGISTER_MUXER   (TGP,              tgp);</span><br><span class="line">    REGISTER_DEMUXER (THP,              thp);</span><br><span class="line">    REGISTER_DEMUXER (THREEDOSTR,       threedostr);</span><br><span class="line">    REGISTER_DEMUXER (TIERTEXSEQ,       tiertexseq);</span><br><span class="line">    REGISTER_MUXER   (MKVTIMESTAMP_V2,  mkvtimestamp_v2);</span><br><span class="line">    REGISTER_DEMUXER (TMV,              tmv);</span><br><span class="line">    REGISTER_MUXDEMUX(TRUEHD,           truehd);</span><br><span class="line">    REGISTER_MUXDEMUX(TTA,              tta);</span><br><span class="line">    REGISTER_DEMUXER (TXD,              txd);</span><br><span class="line">    REGISTER_DEMUXER (TTY,              tty);</span><br><span class="line">    REGISTER_MUXER   (UNCODEDFRAMECRC,  uncodedframecrc);</span><br><span class="line">    REGISTER_DEMUXER (V210,             v210);</span><br><span class="line">    REGISTER_DEMUXER (V210X,            v210x);</span><br><span class="line">    REGISTER_DEMUXER (VAG,              vag);</span><br><span class="line">    REGISTER_MUXDEMUX(VC1,              vc1);</span><br><span class="line">    REGISTER_MUXDEMUX(VC1T,             vc1t);</span><br><span class="line">    REGISTER_DEMUXER (VIVO,             vivo);</span><br><span class="line">    REGISTER_DEMUXER (VMD,              vmd);</span><br><span class="line">    REGISTER_DEMUXER (VOBSUB,           vobsub);</span><br><span class="line">    REGISTER_MUXDEMUX(VOC,              voc);</span><br><span class="line">    REGISTER_DEMUXER (VPK,              vpk);</span><br><span class="line">    REGISTER_DEMUXER (VPLAYER,          vplayer);</span><br><span class="line">    REGISTER_DEMUXER (VQF,              vqf);</span><br><span class="line">    REGISTER_MUXDEMUX(W64,              w64);</span><br><span class="line">    REGISTER_MUXDEMUX(WAV,              wav);</span><br><span class="line">    REGISTER_DEMUXER (WC3,              wc3);</span><br><span class="line">    REGISTER_MUXER   (WEBM,             webm);</span><br><span class="line">    REGISTER_MUXDEMUX(WEBM_DASH_MANIFEST, webm_dash_manifest);</span><br><span class="line">    REGISTER_MUXER   (WEBM_CHUNK,       webm_chunk);</span><br><span class="line">    REGISTER_MUXER   (WEBP,             webp);</span><br><span class="line">    REGISTER_MUXDEMUX(WEBVTT,           webvtt);</span><br><span class="line">    REGISTER_DEMUXER (WSAUD,            wsaud);</span><br><span class="line">    REGISTER_DEMUXER (WSD,              wsd);</span><br><span class="line">    REGISTER_DEMUXER (WSVQA,            wsvqa);</span><br><span class="line">    REGISTER_MUXDEMUX(WTV,              wtv);</span><br><span class="line">    REGISTER_DEMUXER (WVE,              wve);</span><br><span class="line">    REGISTER_MUXDEMUX(WV,               wv);</span><br><span class="line">    REGISTER_DEMUXER (XA,               xa);</span><br><span class="line">    REGISTER_DEMUXER (XBIN,             xbin);</span><br><span class="line">    REGISTER_DEMUXER (XMV,              xmv);</span><br><span class="line">    REGISTER_DEMUXER (XVAG,             xvag);</span><br><span class="line">    REGISTER_DEMUXER (XWMA,             xwma);</span><br><span class="line">    REGISTER_DEMUXER (YOP,              yop);</span><br><span class="line">    REGISTER_MUXDEMUX(YUV4MPEGPIPE,     yuv4mpegpipe);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* image demuxers */</span></span><br><span class="line">    REGISTER_DEMUXER (IMAGE_BMP_PIPE,        image_bmp_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_DDS_PIPE,        image_dds_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_DPX_PIPE,        image_dpx_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_EXR_PIPE,        image_exr_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_J2K_PIPE,        image_j2k_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_JPEG_PIPE,       image_jpeg_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_JPEGLS_PIPE,     image_jpegls_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_PAM_PIPE,        image_pam_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_PBM_PIPE,        image_pbm_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_PCX_PIPE,        image_pcx_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_PGMYUV_PIPE,     image_pgmyuv_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_PGM_PIPE,        image_pgm_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_PICTOR_PIPE,     image_pictor_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_PNG_PIPE,        image_png_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_PPM_PIPE,        image_ppm_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_PSD_PIPE,        image_psd_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_QDRAW_PIPE,      image_qdraw_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_SGI_PIPE,        image_sgi_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_SVG_PIPE,        image_svg_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_SUNRAST_PIPE,    image_sunrast_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_TIFF_PIPE,       image_tiff_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_WEBP_PIPE,       image_webp_pipe);</span><br><span class="line">    REGISTER_DEMUXER (IMAGE_XPM_PIPE,        image_xpm_pipe);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* external libraries */</span></span><br><span class="line">    REGISTER_MUXER   (CHROMAPRINT,      chromaprint);</span><br><span class="line">    REGISTER_DEMUXER (LIBGME,           libgme);</span><br><span class="line">    REGISTER_DEMUXER (LIBMODPLUG,       libmodplug);</span><br><span class="line">    REGISTER_DEMUXER (LIBOPENMPT,       libopenmpt);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">av_register_all</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> AVOnce control = AV_ONCE_INIT;</span><br><span class="line"></span><br><span class="line">    ff_thread_once(&amp;control, register_all);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>解复用器</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REGISTER_DEMUXER  (AAC, aac)</span><br></pre></td></tr></table></figure>
</li>
<li><p>复用器</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REGISTER_MUXER    (ADTS, adts)</span><br></pre></td></tr></table></figure>
</li>
<li><p>既是解复用器也是复用器</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REGISTER_MUXDEMUX (AC3, ac3);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="解复用器"><a href="#解复用器" class="headerlink" title="解复用器"></a>解复用器</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">define</span> REGISTER_DEMUXER(X, x)                                          \</span><br><span class="line">    &#123;                                                                   \</span><br><span class="line">        extern AVInputFormat ff_##x##_demuxer;                          \</span><br><span class="line">        <span class="keyword">if</span> (CONFIG_##X##_DEMUXER)                                       \</span><br><span class="line">            av_register_input_format(&amp;ff_##x##_demuxer);                \</span><br><span class="line">    &#125;</span></span><br></pre></td></tr></table></figure>
<p>其内部调用的是 <code>av_register_input_format()</code> 方法：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">void av_register_input_format(AVInputFormat *format)</span><br><span class="line">&#123;</span><br><span class="line">    AVInputFormat **p = last_iformat;</span><br><span class="line"></span><br><span class="line">    // Note, format could be added after the first 2 checks but that implies that *p is no longer NULL</span><br><span class="line">    while(p != &amp;format-&gt;next &amp;&amp; !format-&gt;next &amp;&amp; avpriv_atomic_ptr_cas((void * volatile *)p, NULL, format))</span><br><span class="line">        p = &amp;(*p)-&gt;next;</span><br><span class="line"></span><br><span class="line">    if (!format-&gt;next)</span><br><span class="line">        last_iformat = &amp;format-&gt;next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>first_iformat</code> 就是之前所说的注册的解复用器都存放到这个链表中</p>
<h3 id="复用器"><a href="#复用器" class="headerlink" title="复用器"></a>复用器</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">define</span> REGISTER_MUXER(X, x)                                            \</span><br><span class="line">    &#123;                                                                   \</span><br><span class="line">        extern AVOutputFormat ff_##x##_muxer;                           \</span><br><span class="line">        <span class="keyword">if</span> (CONFIG_##X##_MUXER)                                         \</span><br><span class="line">            av_register_output_format(&amp;ff_##x##_muxer);                 \</span><br><span class="line">    &#125;</span></span><br></pre></td></tr></table></figure>
<p>其内部调用的是 <code>av_register_output_format()</code> 方法：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">void av_register_output_format(AVOutputFormat *format)</span><br><span class="line">&#123;</span><br><span class="line">    AVOutputFormat **p = last_oformat;</span><br><span class="line"></span><br><span class="line">    // Note, format could be added after the first 2 checks but that implies that *p is no longer NULL</span><br><span class="line">    while(p != &amp;format-&gt;next &amp;&amp; !format-&gt;next &amp;&amp; avpriv_atomic_ptr_cas((void * volatile *)p, NULL, format))</span><br><span class="line">        p = &amp;(*p)-&gt;next;</span><br><span class="line"></span><br><span class="line">    if (!format-&gt;next)</span><br><span class="line">        last_oformat = &amp;format-&gt;next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>last_oformat</code> 与 <code>first_iformat</code> 类似</p>
<h3 id="既有解复用器又有复用器"><a href="#既有解复用器又有复用器" class="headerlink" title="既有解复用器又有复用器"></a>既有解复用器又有复用器</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">define</span> REGISTER_MUXDEMUX(X, x) REGISTER_MUXER(X, x); REGISTER_DEMUXER(X, x)</span></span><br></pre></td></tr></table></figure>
<h3 id="差异"><a href="#差异" class="headerlink" title="差异"></a>差异</h3><p>在 ijkplayer 编译 ffmpeg 中没有 <code>REGISTER_PROTOCOL</code> ，取而代之的是 <code>IJK_REGISTER_PROTOCOL</code> (ijkavformat/allformats.c)</p>
<h2 id="avcodec-register-all"><a href="#avcodec-register-all" class="headerlink" title="avcodec_register_all"></a>avcodec_register_all</h2><p><code>avcodec_register_all()</code> 注册了和编解码器有关的组件：硬件加速器、解码器、编码器、Parser、Bitstream Filter等</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">define</span> REGISTER_HWACCEL(X, x)                                          \</span><br><span class="line">    &#123;                                                                   \</span><br><span class="line">        extern AVHWAccel ff_##x##_hwaccel;                              \</span><br><span class="line">        <span class="keyword">if</span> (CONFIG_##X##_HWACCEL)                                       \</span><br><span class="line">            av_register_hwaccel(&amp;ff_##x##_hwaccel);                     \</span><br><span class="line">    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> REGISTER_ENCODER(X, x)                                          \</span><br><span class="line">    &#123;                                                                   \</span><br><span class="line">        extern AVCodec ff_##x##_encoder;                                \</span><br><span class="line">        <span class="keyword">if</span> (CONFIG_##X##_ENCODER)                                       \</span><br><span class="line">            avcodec_register(&amp;ff_##x##_encoder);                        \</span><br><span class="line">    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> REGISTER_DECODER(X, x)                                          \</span><br><span class="line">    &#123;                                                                   \</span><br><span class="line">        extern AVCodec ff_##x##_decoder;                                \</span><br><span class="line">        <span class="keyword">if</span> (CONFIG_##X##_DECODER)                                       \</span><br><span class="line">            avcodec_register(&amp;ff_##x##_decoder);                        \</span><br><span class="line">    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> REGISTER_ENCDEC(X, x) REGISTER_ENCODER(X, x); REGISTER_DECODER(X, x)</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> REGISTER_PARSER(X, x)                                           \</span><br><span class="line">    &#123;                                                                   \</span><br><span class="line">        extern AVCodecParser ff_##x##_parser;                           \</span><br><span class="line">        <span class="keyword">if</span> (CONFIG_##X##_PARSER)                                        \</span><br><span class="line">            av_register_codec_parser(&amp;ff_##x##_parser);                 \</span><br><span class="line">    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">register_all</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="comment">/* hardware accelerators */</span></span><br><span class="line">    REGISTER_HWACCEL(H263_VAAPI,        h263_vaapi);</span><br><span class="line">    REGISTER_HWACCEL(H263_VIDEOTOOLBOX, h263_videotoolbox);</span><br><span class="line">    REGISTER_HWACCEL(H264_CUVID,        h264_cuvid);</span><br><span class="line">    REGISTER_HWACCEL(H264_D3D11VA,      h264_d3d11va);</span><br><span class="line">    REGISTER_HWACCEL(H264_D3D11VA2,     h264_d3d11va2);</span><br><span class="line">    REGISTER_HWACCEL(H264_DXVA2,        h264_dxva2);</span><br><span class="line">    REGISTER_HWACCEL(H264_MEDIACODEC,   h264_mediacodec);</span><br><span class="line">    REGISTER_HWACCEL(H264_MMAL,         h264_mmal);</span><br><span class="line">    REGISTER_HWACCEL(H264_QSV,          h264_qsv);</span><br><span class="line">    REGISTER_HWACCEL(H264_VAAPI,        h264_vaapi);</span><br><span class="line">    REGISTER_HWACCEL(H264_VDA,          h264_vda);</span><br><span class="line">    REGISTER_HWACCEL(H264_VDA_OLD,      h264_vda_old);</span><br><span class="line">    REGISTER_HWACCEL(H264_VDPAU,        h264_vdpau);</span><br><span class="line">    REGISTER_HWACCEL(H264_VIDEOTOOLBOX, h264_videotoolbox);</span><br><span class="line">    REGISTER_HWACCEL(HEVC_CUVID,        hevc_cuvid);</span><br><span class="line">    REGISTER_HWACCEL(HEVC_D3D11VA,      hevc_d3d11va);</span><br><span class="line">    REGISTER_HWACCEL(HEVC_D3D11VA2,     hevc_d3d11va2);</span><br><span class="line">    REGISTER_HWACCEL(HEVC_DXVA2,        hevc_dxva2);</span><br><span class="line">    REGISTER_HWACCEL(HEVC_MEDIACODEC,   hevc_mediacodec);</span><br><span class="line">    REGISTER_HWACCEL(HEVC_QSV,          hevc_qsv);</span><br><span class="line">    REGISTER_HWACCEL(HEVC_VAAPI,        hevc_vaapi);</span><br><span class="line">    REGISTER_HWACCEL(HEVC_VDPAU,        hevc_vdpau);</span><br><span class="line">    REGISTER_HWACCEL(HEVC_VIDEOTOOLBOX, hevc_videotoolbox);</span><br><span class="line">    REGISTER_HWACCEL(MJPEG_CUVID,       mjpeg_cuvid);</span><br><span class="line">    REGISTER_HWACCEL(MPEG1_CUVID,       mpeg1_cuvid);</span><br><span class="line">    REGISTER_HWACCEL(MPEG1_XVMC,        mpeg1_xvmc);</span><br><span class="line">    REGISTER_HWACCEL(MPEG1_VDPAU,       mpeg1_vdpau);</span><br><span class="line">    REGISTER_HWACCEL(MPEG1_VIDEOTOOLBOX, mpeg1_videotoolbox);</span><br><span class="line">    REGISTER_HWACCEL(MPEG2_CUVID,       mpeg2_cuvid);</span><br><span class="line">    REGISTER_HWACCEL(MPEG2_XVMC,        mpeg2_xvmc);</span><br><span class="line">    REGISTER_HWACCEL(MPEG2_D3D11VA,     mpeg2_d3d11va);</span><br><span class="line">    REGISTER_HWACCEL(MPEG2_D3D11VA2,    mpeg2_d3d11va2);</span><br><span class="line">    REGISTER_HWACCEL(MPEG2_DXVA2,       mpeg2_dxva2);</span><br><span class="line">    REGISTER_HWACCEL(MPEG2_MMAL,        mpeg2_mmal);</span><br><span class="line">    REGISTER_HWACCEL(MPEG2_QSV,         mpeg2_qsv);</span><br><span class="line">    REGISTER_HWACCEL(MPEG2_VAAPI,       mpeg2_vaapi);</span><br><span class="line">    REGISTER_HWACCEL(MPEG2_VDPAU,       mpeg2_vdpau);</span><br><span class="line">    REGISTER_HWACCEL(MPEG2_VIDEOTOOLBOX, mpeg2_videotoolbox);</span><br><span class="line">    REGISTER_HWACCEL(MPEG2_MEDIACODEC,  mpeg2_mediacodec);</span><br><span class="line">    REGISTER_HWACCEL(MPEG4_CUVID,       mpeg4_cuvid);</span><br><span class="line">    REGISTER_HWACCEL(MPEG4_MEDIACODEC,  mpeg4_mediacodec);</span><br><span class="line">    REGISTER_HWACCEL(MPEG4_MMAL,        mpeg4_mmal);</span><br><span class="line">    REGISTER_HWACCEL(MPEG4_VAAPI,       mpeg4_vaapi);</span><br><span class="line">    REGISTER_HWACCEL(MPEG4_VDPAU,       mpeg4_vdpau);</span><br><span class="line">    REGISTER_HWACCEL(MPEG4_VIDEOTOOLBOX, mpeg4_videotoolbox);</span><br><span class="line">    REGISTER_HWACCEL(VC1_CUVID,         vc1_cuvid);</span><br><span class="line">    REGISTER_HWACCEL(VC1_D3D11VA,       vc1_d3d11va);</span><br><span class="line">    REGISTER_HWACCEL(VC1_D3D11VA2,      vc1_d3d11va2);</span><br><span class="line">    REGISTER_HWACCEL(VC1_DXVA2,         vc1_dxva2);</span><br><span class="line">    REGISTER_HWACCEL(VC1_VAAPI,         vc1_vaapi);</span><br><span class="line">    REGISTER_HWACCEL(VC1_VDPAU,         vc1_vdpau);</span><br><span class="line">    REGISTER_HWACCEL(VC1_MMAL,          vc1_mmal);</span><br><span class="line">    REGISTER_HWACCEL(VC1_QSV,           vc1_qsv);</span><br><span class="line">    REGISTER_HWACCEL(VP8_CUVID,         vp8_cuvid);</span><br><span class="line">    REGISTER_HWACCEL(VP8_MEDIACODEC,    vp8_mediacodec);</span><br><span class="line">    REGISTER_HWACCEL(VP8_QSV,           vp8_qsv);</span><br><span class="line">    REGISTER_HWACCEL(VP9_CUVID,         vp9_cuvid);</span><br><span class="line">    REGISTER_HWACCEL(VP9_D3D11VA,       vp9_d3d11va);</span><br><span class="line">    REGISTER_HWACCEL(VP9_D3D11VA2,      vp9_d3d11va2);</span><br><span class="line">    REGISTER_HWACCEL(VP9_DXVA2,         vp9_dxva2);</span><br><span class="line">    REGISTER_HWACCEL(VP9_MEDIACODEC,    vp9_mediacodec);</span><br><span class="line">    REGISTER_HWACCEL(VP9_VAAPI,         vp9_vaapi);</span><br><span class="line">    REGISTER_HWACCEL(WMV3_D3D11VA,      wmv3_d3d11va);</span><br><span class="line">    REGISTER_HWACCEL(WMV3_D3D11VA2,     wmv3_d3d11va2);</span><br><span class="line">    REGISTER_HWACCEL(WMV3_DXVA2,        wmv3_dxva2);</span><br><span class="line">    REGISTER_HWACCEL(WMV3_VAAPI,        wmv3_vaapi);</span><br><span class="line">    REGISTER_HWACCEL(WMV3_VDPAU,        wmv3_vdpau);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* video codecs */</span></span><br><span class="line">    REGISTER_ENCODER(A64MULTI,          a64multi);</span><br><span class="line">    REGISTER_ENCODER(A64MULTI5,         a64multi5);</span><br><span class="line">    REGISTER_DECODER(AASC,              aasc);</span><br><span class="line">    REGISTER_DECODER(AIC,               aic);</span><br><span class="line">    REGISTER_ENCDEC (ALIAS_PIX,         alias_pix);</span><br><span class="line">    REGISTER_ENCDEC (AMV,               amv);</span><br><span class="line">    REGISTER_DECODER(ANM,               anm);</span><br><span class="line">    REGISTER_DECODER(ANSI,              ansi);</span><br><span class="line">    REGISTER_ENCDEC (APNG,              apng);</span><br><span class="line">    REGISTER_ENCDEC (ASV1,              asv1);</span><br><span class="line">    REGISTER_ENCDEC (ASV2,              asv2);</span><br><span class="line">    REGISTER_DECODER(AURA,              aura);</span><br><span class="line">    REGISTER_DECODER(AURA2,             aura2);</span><br><span class="line">    REGISTER_ENCDEC (AVRP,              avrp);</span><br><span class="line">    REGISTER_DECODER(AVRN,              avrn);</span><br><span class="line">    REGISTER_DECODER(AVS,               avs);</span><br><span class="line">    REGISTER_ENCDEC (AVUI,              avui);</span><br><span class="line">    REGISTER_ENCDEC (AYUV,              ayuv);</span><br><span class="line">    REGISTER_DECODER(BETHSOFTVID,       bethsoftvid);</span><br><span class="line">    REGISTER_DECODER(BFI,               bfi);</span><br><span class="line">    REGISTER_DECODER(BINK,              bink);</span><br><span class="line">    REGISTER_ENCDEC (BMP,               bmp);</span><br><span class="line">    REGISTER_DECODER(BMV_VIDEO,         bmv_video);</span><br><span class="line">    REGISTER_DECODER(BRENDER_PIX,       brender_pix);</span><br><span class="line">    REGISTER_DECODER(C93,               c93);</span><br><span class="line">    REGISTER_DECODER(CAVS,              cavs);</span><br><span class="line">    REGISTER_DECODER(CDGRAPHICS,        cdgraphics);</span><br><span class="line">    REGISTER_DECODER(CDXL,              cdxl);</span><br><span class="line">    REGISTER_DECODER(CFHD,              cfhd);</span><br><span class="line">    REGISTER_ENCDEC (CINEPAK,           cinepak);</span><br><span class="line">    REGISTER_DECODER(CLEARVIDEO,        clearvideo);</span><br><span class="line">    REGISTER_ENCDEC (CLJR,              cljr);</span><br><span class="line">    REGISTER_DECODER(CLLC,              cllc);</span><br><span class="line">    REGISTER_ENCDEC (COMFORTNOISE,      comfortnoise);</span><br><span class="line">    REGISTER_DECODER(CPIA,              cpia);</span><br><span class="line">    REGISTER_DECODER(CSCD,              cscd);</span><br><span class="line">    REGISTER_DECODER(CYUV,              cyuv);</span><br><span class="line">    REGISTER_DECODER(DDS,               dds);</span><br><span class="line">    REGISTER_DECODER(DFA,               dfa);</span><br><span class="line">    REGISTER_DECODER(DIRAC,             dirac);</span><br><span class="line">    REGISTER_ENCDEC (DNXHD,             dnxhd);</span><br><span class="line">    REGISTER_ENCDEC (DPX,               dpx);</span><br><span class="line">    REGISTER_DECODER(DSICINVIDEO,       dsicinvideo);</span><br><span class="line">    REGISTER_DECODER(DVAUDIO,           dvaudio);</span><br><span class="line">    REGISTER_ENCDEC (DVVIDEO,           dvvideo);</span><br><span class="line">    REGISTER_DECODER(DXA,               dxa);</span><br><span class="line">    REGISTER_DECODER(DXTORY,            dxtory);</span><br><span class="line">    REGISTER_DECODER(DXV,               dxv);</span><br><span class="line">    REGISTER_DECODER(EACMV,             eacmv);</span><br><span class="line">    REGISTER_DECODER(EAMAD,             eamad);</span><br><span class="line">    REGISTER_DECODER(EATGQ,             eatgq);</span><br><span class="line">    REGISTER_DECODER(EATGV,             eatgv);</span><br><span class="line">    REGISTER_DECODER(EATQI,             eatqi);</span><br><span class="line">    REGISTER_DECODER(EIGHTBPS,          eightbps);</span><br><span class="line">    REGISTER_DECODER(EIGHTSVX_EXP,      eightsvx_exp);</span><br><span class="line">    REGISTER_DECODER(EIGHTSVX_FIB,      eightsvx_fib);</span><br><span class="line">    REGISTER_DECODER(ESCAPE124,         escape124);</span><br><span class="line">    REGISTER_DECODER(ESCAPE130,         escape130);</span><br><span class="line">    REGISTER_DECODER(EXR,               exr);</span><br><span class="line">    REGISTER_ENCDEC (FFV1,              ffv1);</span><br><span class="line">    REGISTER_ENCDEC (FFVHUFF,           ffvhuff);</span><br><span class="line">    REGISTER_DECODER(FIC,               fic);</span><br><span class="line">    REGISTER_ENCDEC (FITS,              fits);</span><br><span class="line">    REGISTER_ENCDEC (FLASHSV,           flashsv);</span><br><span class="line">    REGISTER_ENCDEC (FLASHSV2,          flashsv2);</span><br><span class="line">    REGISTER_DECODER(FLIC,              flic);</span><br><span class="line">    REGISTER_ENCDEC (FLV,               flv);</span><br><span class="line">    REGISTER_DECODER(FMVC,              fmvc);</span><br><span class="line">    REGISTER_DECODER(FOURXM,            fourxm);</span><br><span class="line">    REGISTER_DECODER(FRAPS,             fraps);</span><br><span class="line">    REGISTER_DECODER(FRWU,              frwu);</span><br><span class="line">    REGISTER_DECODER(G2M,               g2m);</span><br><span class="line">    REGISTER_DECODER(GDV,               gdv);</span><br><span class="line">    REGISTER_ENCDEC (GIF,               gif);</span><br><span class="line">    REGISTER_ENCDEC (H261,              h261);</span><br><span class="line">    REGISTER_ENCDEC (H263,              h263);</span><br><span class="line">    REGISTER_DECODER(H263I,             h263i);</span><br><span class="line">    REGISTER_ENCDEC (H263P,             h263p);</span><br><span class="line">    REGISTER_DECODER(H263_V4L2M2M,      h263_v4l2m2m);</span><br><span class="line">    REGISTER_DECODER(H264,              h264);</span><br><span class="line">    REGISTER_DECODER(H264_CRYSTALHD,    h264_crystalhd);</span><br><span class="line">    REGISTER_DECODER(H264_V4L2M2M,      h264_v4l2m2m);</span><br><span class="line">    REGISTER_DECODER(H264_MEDIACODEC,   h264_mediacodec);</span><br><span class="line">    REGISTER_DECODER(H264_MMAL,         h264_mmal);</span><br><span class="line">    REGISTER_DECODER(H264_QSV,          h264_qsv);</span><br><span class="line">    REGISTER_DECODER(H264_RKMPP,        h264_rkmpp);</span><br><span class="line">    REGISTER_DECODER(H264_VDA,          h264_vda);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">if</span> FF_API_VDPAU</span></span><br><span class="line">    REGISTER_DECODER(H264_VDPAU,        h264_vdpau);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">endif</span></span></span><br><span class="line">    REGISTER_ENCDEC (HAP,               hap);</span><br><span class="line">    REGISTER_DECODER(HEVC,              hevc);</span><br><span class="line">    REGISTER_DECODER(HEVC_QSV,          hevc_qsv);</span><br><span class="line">    REGISTER_DECODER(HEVC_RKMPP,        hevc_rkmpp);</span><br><span class="line">    REGISTER_DECODER(HEVC_V4L2M2M,      hevc_v4l2m2m);</span><br><span class="line">    REGISTER_DECODER(HNM4_VIDEO,        hnm4_video);</span><br><span class="line">    REGISTER_DECODER(HQ_HQA,            hq_hqa);</span><br><span class="line">    REGISTER_DECODER(HQX,               hqx);</span><br><span class="line">    REGISTER_ENCDEC (HUFFYUV,           huffyuv);</span><br><span class="line">    REGISTER_DECODER(IDCIN,             idcin);</span><br><span class="line">    REGISTER_DECODER(IFF_ILBM,          iff_ilbm);</span><br><span class="line">    REGISTER_DECODER(INDEO2,            indeo2);</span><br><span class="line">    REGISTER_DECODER(INDEO3,            indeo3);</span><br><span class="line">    REGISTER_DECODER(INDEO4,            indeo4);</span><br><span class="line">    REGISTER_DECODER(INDEO5,            indeo5);</span><br><span class="line">    REGISTER_DECODER(INTERPLAY_VIDEO,   interplay_video);</span><br><span class="line">    REGISTER_ENCDEC (JPEG2000,          jpeg2000);</span><br><span class="line">    REGISTER_ENCDEC (JPEGLS,            jpegls);</span><br><span class="line">    REGISTER_DECODER(JV,                jv);</span><br><span class="line">    REGISTER_DECODER(KGV1,              kgv1);</span><br><span class="line">    REGISTER_DECODER(KMVC,              kmvc);</span><br><span class="line">    REGISTER_DECODER(LAGARITH,          lagarith);</span><br><span class="line">    REGISTER_ENCODER(LJPEG,             ljpeg);</span><br><span class="line">    REGISTER_DECODER(LOCO,              loco);</span><br><span class="line">    REGISTER_DECODER(M101,              m101);</span><br><span class="line">    REGISTER_DECODER(MAGICYUV,          magicyuv);</span><br><span class="line">    REGISTER_DECODER(MDEC,              mdec);</span><br><span class="line">    REGISTER_DECODER(MIMIC,             mimic);</span><br><span class="line">    REGISTER_ENCDEC (MJPEG,             mjpeg);</span><br><span class="line">    REGISTER_DECODER(MJPEGB,            mjpegb);</span><br><span class="line">    REGISTER_DECODER(MMVIDEO,           mmvideo);</span><br><span class="line">    REGISTER_DECODER(MOTIONPIXELS,      motionpixels);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">if</span> FF_API_XVMC</span></span><br><span class="line">    REGISTER_DECODER(MPEG_XVMC,         mpeg_xvmc);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">endif</span> <span class="comment">/* FF_API_XVMC */</span></span></span><br><span class="line">    REGISTER_ENCDEC (MPEG1VIDEO,        mpeg1video);</span><br><span class="line">    REGISTER_ENCDEC (MPEG2VIDEO,        mpeg2video);</span><br><span class="line">    REGISTER_ENCDEC (MPEG4,             mpeg4);</span><br><span class="line">    REGISTER_DECODER(MPEG4_CRYSTALHD,   mpeg4_crystalhd);</span><br><span class="line">    REGISTER_DECODER(MPEG4_V4L2M2M,     mpeg4_v4l2m2m);</span><br><span class="line">    REGISTER_DECODER(MPEG4_MMAL,        mpeg4_mmal);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">if</span> FF_API_VDPAU</span></span><br><span class="line">    REGISTER_DECODER(MPEG4_VDPAU,       mpeg4_vdpau);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">endif</span></span></span><br><span class="line">    REGISTER_DECODER(MPEGVIDEO,         mpegvideo);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">if</span> FF_API_VDPAU</span></span><br><span class="line">    REGISTER_DECODER(MPEG_VDPAU,        mpeg_vdpau);</span><br><span class="line">    REGISTER_DECODER(MPEG1_VDPAU,       mpeg1_vdpau);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">endif</span></span></span><br><span class="line">    REGISTER_DECODER(MPEG1_V4L2M2M,     mpeg1_v4l2m2m);</span><br><span class="line">    REGISTER_DECODER(MPEG2_MMAL,        mpeg2_mmal);</span><br><span class="line">    REGISTER_DECODER(MPEG2_CRYSTALHD,   mpeg2_crystalhd);</span><br><span class="line">    REGISTER_DECODER(MPEG2_V4L2M2M,     mpeg2_v4l2m2m);</span><br><span class="line">    REGISTER_DECODER(MPEG2_QSV,         mpeg2_qsv);</span><br><span class="line">    REGISTER_DECODER(MPEG2_MEDIACODEC,  mpeg2_mediacodec);</span><br><span class="line">    REGISTER_DECODER(MSA1,              msa1);</span><br><span class="line">    REGISTER_DECODER(MSCC,              mscc);</span><br><span class="line">    REGISTER_DECODER(MSMPEG4V1,         msmpeg4v1);</span><br><span class="line">    REGISTER_ENCDEC (MSMPEG4V2,         msmpeg4v2);</span><br><span class="line">    REGISTER_ENCDEC (MSMPEG4V3,         msmpeg4v3);</span><br><span class="line">    REGISTER_DECODER(MSMPEG4_CRYSTALHD, msmpeg4_crystalhd);</span><br><span class="line">    REGISTER_DECODER(MSRLE,             msrle);</span><br><span class="line">    REGISTER_DECODER(MSS1,              mss1);</span><br><span class="line">    REGISTER_DECODER(MSS2,              mss2);</span><br><span class="line">    REGISTER_ENCDEC (MSVIDEO1,          msvideo1);</span><br><span class="line">    REGISTER_DECODER(MSZH,              mszh);</span><br><span class="line">    REGISTER_DECODER(MTS2,              mts2);</span><br><span class="line">    REGISTER_DECODER(MVC1,              mvc1);</span><br><span class="line">    REGISTER_DECODER(MVC2,              mvc2);</span><br><span class="line">    REGISTER_DECODER(MXPEG,             mxpeg);</span><br><span class="line">    REGISTER_DECODER(NUV,               nuv);</span><br><span class="line">    REGISTER_DECODER(PAF_VIDEO,         paf_video);</span><br><span class="line">    REGISTER_ENCDEC (PAM,               pam);</span><br><span class="line">    REGISTER_ENCDEC (PBM,               pbm);</span><br><span class="line">    REGISTER_ENCDEC (PCX,               pcx);</span><br><span class="line">    REGISTER_ENCDEC (PGM,               pgm);</span><br><span class="line">    REGISTER_ENCDEC (PGMYUV,            pgmyuv);</span><br><span class="line">    REGISTER_DECODER(PICTOR,            pictor);</span><br><span class="line">    REGISTER_DECODER(PIXLET,            pixlet);</span><br><span class="line">    REGISTER_ENCDEC (PNG,               png);</span><br><span class="line">    REGISTER_ENCDEC (PPM,               ppm);</span><br><span class="line">    REGISTER_ENCDEC (PRORES,            prores);</span><br><span class="line">    REGISTER_ENCODER(PRORES_AW,         prores_aw);</span><br><span class="line">    REGISTER_ENCODER(PRORES_KS,         prores_ks);</span><br><span class="line">    REGISTER_DECODER(PRORES_LGPL,       prores_lgpl);</span><br><span class="line">    REGISTER_DECODER(PSD,               psd);</span><br><span class="line">    REGISTER_DECODER(PTX,               ptx);</span><br><span class="line">    REGISTER_DECODER(QDRAW,             qdraw);</span><br><span class="line">    REGISTER_DECODER(QPEG,              qpeg);</span><br><span class="line">    REGISTER_ENCDEC (QTRLE,             qtrle);</span><br><span class="line">    REGISTER_ENCDEC (R10K,              r10k);</span><br><span class="line">    REGISTER_ENCDEC (R210,              r210);</span><br><span class="line">    REGISTER_ENCDEC (RAWVIDEO,          rawvideo);</span><br><span class="line">    REGISTER_DECODER(RL2,               rl2);</span><br><span class="line">    REGISTER_ENCDEC (ROQ,               roq);</span><br><span class="line">    REGISTER_DECODER(RPZA,              rpza);</span><br><span class="line">    REGISTER_DECODER(RSCC,              rscc);</span><br><span class="line">    REGISTER_ENCDEC (RV10,              rv10);</span><br><span class="line">    REGISTER_ENCDEC (RV20,              rv20);</span><br><span class="line">    REGISTER_DECODER(RV30,              rv30);</span><br><span class="line">    REGISTER_DECODER(RV40,              rv40);</span><br><span class="line">    REGISTER_ENCDEC (S302M,             s302m);</span><br><span class="line">    REGISTER_DECODER(SANM,              sanm);</span><br><span class="line">    REGISTER_DECODER(SCPR,              scpr);</span><br><span class="line">    REGISTER_DECODER(SCREENPRESSO,      screenpresso);</span><br><span class="line">    REGISTER_DECODER(SDX2_DPCM,         sdx2_dpcm);</span><br><span class="line">    REGISTER_ENCDEC (SGI,               sgi);</span><br><span class="line">    REGISTER_DECODER(SGIRLE,            sgirle);</span><br><span class="line">    REGISTER_DECODER(SHEERVIDEO,        sheervideo);</span><br><span class="line">    REGISTER_DECODER(SMACKER,           smacker);</span><br><span class="line">    REGISTER_DECODER(SMC,               smc);</span><br><span class="line">    REGISTER_DECODER(SMVJPEG,           smvjpeg);</span><br><span class="line">    REGISTER_ENCDEC (SNOW,              snow);</span><br><span class="line">    REGISTER_DECODER(SP5X,              sp5x);</span><br><span class="line">    REGISTER_DECODER(SPEEDHQ,           speedhq);</span><br><span class="line">    REGISTER_DECODER(SRGC,              srgc);</span><br><span class="line">    REGISTER_ENCDEC (SUNRAST,           sunrast);</span><br><span class="line">    REGISTER_ENCDEC (SVQ1,              svq1);</span><br><span class="line">    REGISTER_DECODER(SVQ3,              svq3);</span><br><span class="line">    REGISTER_ENCDEC (TARGA,             targa);</span><br><span class="line">    REGISTER_DECODER(TARGA_Y216,        targa_y216);</span><br><span class="line">    REGISTER_DECODER(TDSC,              tdsc);</span><br><span class="line">    REGISTER_DECODER(THEORA,            theora);</span><br><span class="line">    REGISTER_DECODER(THP,               thp);</span><br><span class="line">    REGISTER_DECODER(TIERTEXSEQVIDEO,   tiertexseqvideo);</span><br><span class="line">    REGISTER_ENCDEC (TIFF,              tiff);</span><br><span class="line">    REGISTER_DECODER(TMV,               tmv);</span><br><span class="line">    REGISTER_DECODER(TRUEMOTION1,       truemotion1);</span><br><span class="line">    REGISTER_DECODER(TRUEMOTION2,       truemotion2);</span><br><span class="line">    REGISTER_DECODER(TRUEMOTION2RT,     truemotion2rt);</span><br><span class="line">    REGISTER_DECODER(TSCC,              tscc);</span><br><span class="line">    REGISTER_DECODER(TSCC2,             tscc2);</span><br><span class="line">    REGISTER_DECODER(TXD,               txd);</span><br><span class="line">    REGISTER_DECODER(ULTI,              ulti);</span><br><span class="line">    REGISTER_ENCDEC (UTVIDEO,           utvideo);</span><br><span class="line">    REGISTER_ENCDEC (V210,              v210);</span><br><span class="line">    REGISTER_DECODER(V210X,             v210x);</span><br><span class="line">    REGISTER_ENCDEC (V308,              v308);</span><br><span class="line">    REGISTER_ENCDEC (V408,              v408);</span><br><span class="line">    REGISTER_ENCDEC (V410,              v410);</span><br><span class="line">    REGISTER_DECODER(VB,                vb);</span><br><span class="line">    REGISTER_DECODER(VBLE,              vble);</span><br><span class="line">    REGISTER_DECODER(VC1,               vc1);</span><br><span class="line">    REGISTER_DECODER(VC1_CRYSTALHD,     vc1_crystalhd);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">if</span> FF_API_VDPAU</span></span><br><span class="line">    REGISTER_DECODER(VC1_VDPAU,         vc1_vdpau);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">endif</span></span></span><br><span class="line">    REGISTER_DECODER(VC1IMAGE,          vc1image);</span><br><span class="line">    REGISTER_DECODER(VC1_MMAL,          vc1_mmal);</span><br><span class="line">    REGISTER_DECODER(VC1_QSV,           vc1_qsv);</span><br><span class="line">    REGISTER_DECODER(VC1_V4L2M2M,       vc1_v4l2m2m);</span><br><span class="line">    REGISTER_ENCODER(VC2,               vc2);</span><br><span class="line">    REGISTER_DECODER(VCR1,              vcr1);</span><br><span class="line">    REGISTER_DECODER(VMDVIDEO,          vmdvideo);</span><br><span class="line">    REGISTER_DECODER(VMNC,              vmnc);</span><br><span class="line">    REGISTER_DECODER(VP3,               vp3);</span><br><span class="line">    REGISTER_DECODER(VP5,               vp5);</span><br><span class="line">    REGISTER_DECODER(VP6,               vp6);</span><br><span class="line">    REGISTER_DECODER(VP6A,              vp6a);</span><br><span class="line">    REGISTER_DECODER(VP6F,              vp6f);</span><br><span class="line">    REGISTER_DECODER(VP7,               vp7);</span><br><span class="line">    REGISTER_DECODER(VP8,               vp8);</span><br><span class="line">    REGISTER_DECODER(VP8_RKMPP,         vp8_rkmpp);</span><br><span class="line">    REGISTER_DECODER(VP8_V4L2M2M,       vp8_v4l2m2m);</span><br><span class="line">    REGISTER_DECODER(VP9,               vp9);</span><br><span class="line">    REGISTER_DECODER(VP9_RKMPP,         vp9_rkmpp);</span><br><span class="line">    REGISTER_DECODER(VP9_V4L2M2M,       vp9_v4l2m2m);</span><br><span class="line">    REGISTER_DECODER(VQA,               vqa);</span><br><span class="line">    REGISTER_DECODER(BITPACKED,         bitpacked);</span><br><span class="line">    REGISTER_DECODER(WEBP,              webp);</span><br><span class="line">    REGISTER_ENCDEC (WRAPPED_AVFRAME,   wrapped_avframe);</span><br><span class="line">    REGISTER_ENCDEC (WMV1,              wmv1);</span><br><span class="line">    REGISTER_ENCDEC (WMV2,              wmv2);</span><br><span class="line">    REGISTER_DECODER(WMV3,              wmv3);</span><br><span class="line">    REGISTER_DECODER(WMV3_CRYSTALHD,    wmv3_crystalhd);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">if</span> FF_API_VDPAU</span></span><br><span class="line">    REGISTER_DECODER(WMV3_VDPAU,        wmv3_vdpau);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">endif</span></span></span><br><span class="line">    REGISTER_DECODER(WMV3IMAGE,         wmv3image);</span><br><span class="line">    REGISTER_DECODER(WNV1,              wnv1);</span><br><span class="line">    REGISTER_DECODER(XAN_WC3,           xan_wc3);</span><br><span class="line">    REGISTER_DECODER(XAN_WC4,           xan_wc4);</span><br><span class="line">    REGISTER_ENCDEC (XBM,               xbm);</span><br><span class="line">    REGISTER_ENCDEC (XFACE,             xface);</span><br><span class="line">    REGISTER_DECODER(XL,                xl);</span><br><span class="line">    REGISTER_DECODER(XPM,               xpm);</span><br><span class="line">    REGISTER_ENCDEC (XWD,               xwd);</span><br><span class="line">    REGISTER_ENCDEC (Y41P,              y41p);</span><br><span class="line">    REGISTER_DECODER(YLC,               ylc);</span><br><span class="line">    REGISTER_DECODER(YOP,               yop);</span><br><span class="line">    REGISTER_ENCDEC (YUV4,              yuv4);</span><br><span class="line">    REGISTER_DECODER(ZERO12V,           zero12v);</span><br><span class="line">    REGISTER_DECODER(ZEROCODEC,         zerocodec);</span><br><span class="line">    REGISTER_ENCDEC (ZLIB,              zlib);</span><br><span class="line">    REGISTER_ENCDEC (ZMBV,              zmbv);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* audio codecs */</span></span><br><span class="line">    REGISTER_ENCDEC (AAC,               aac);</span><br><span class="line">    REGISTER_DECODER(AAC_FIXED,         aac_fixed);</span><br><span class="line">    REGISTER_DECODER(AAC_LATM,          aac_latm);</span><br><span class="line">    REGISTER_ENCDEC (AC3,               ac3);</span><br><span class="line">    REGISTER_ENCDEC (AC3_FIXED,         ac3_fixed);</span><br><span class="line">    REGISTER_ENCDEC (ALAC,              alac);</span><br><span class="line">    REGISTER_DECODER(ALS,               als);</span><br><span class="line">    REGISTER_DECODER(AMRNB,             amrnb);</span><br><span class="line">    REGISTER_DECODER(AMRWB,             amrwb);</span><br><span class="line">    REGISTER_DECODER(APE,               ape);</span><br><span class="line">    REGISTER_DECODER(ATRAC1,            atrac1);</span><br><span class="line">    REGISTER_DECODER(ATRAC3,            atrac3);</span><br><span class="line">    REGISTER_DECODER(ATRAC3AL,          atrac3al);</span><br><span class="line">    REGISTER_DECODER(ATRAC3P,           atrac3p);</span><br><span class="line">    REGISTER_DECODER(ATRAC3PAL,         atrac3pal);</span><br><span class="line">    REGISTER_DECODER(BINKAUDIO_DCT,     binkaudio_dct);</span><br><span class="line">    REGISTER_DECODER(BINKAUDIO_RDFT,    binkaudio_rdft);</span><br><span class="line">    REGISTER_DECODER(BMV_AUDIO,         bmv_audio);</span><br><span class="line">    REGISTER_DECODER(COOK,              cook);</span><br><span class="line">    REGISTER_ENCDEC (DCA,               dca);</span><br><span class="line">    REGISTER_DECODER(DOLBY_E,           dolby_e);</span><br><span class="line">    REGISTER_DECODER(DSD_LSBF,          dsd_lsbf);</span><br><span class="line">    REGISTER_DECODER(DSD_MSBF,          dsd_msbf);</span><br><span class="line">    REGISTER_DECODER(DSD_LSBF_PLANAR,   dsd_lsbf_planar);</span><br><span class="line">    REGISTER_DECODER(DSD_MSBF_PLANAR,   dsd_msbf_planar);</span><br><span class="line">    REGISTER_DECODER(DSICINAUDIO,       dsicinaudio);</span><br><span class="line">    REGISTER_DECODER(DSS_SP,            dss_sp);</span><br><span class="line">    REGISTER_DECODER(DST,               dst);</span><br><span class="line">    REGISTER_ENCDEC (EAC3,              eac3);</span><br><span class="line">    REGISTER_DECODER(EVRC,              evrc);</span><br><span class="line">    REGISTER_DECODER(FFWAVESYNTH,       ffwavesynth);</span><br><span class="line">    REGISTER_ENCDEC (FLAC,              flac);</span><br><span class="line">    REGISTER_ENCDEC (G723_1,            g723_1);</span><br><span class="line">    REGISTER_DECODER(G729,              g729);</span><br><span class="line">    REGISTER_DECODER(GSM,               gsm);</span><br><span class="line">    REGISTER_DECODER(GSM_MS,            gsm_ms);</span><br><span class="line">    REGISTER_DECODER(IAC,               iac);</span><br><span class="line">    REGISTER_DECODER(IMC,               imc);</span><br><span class="line">    REGISTER_DECODER(INTERPLAY_ACM,     interplay_acm);</span><br><span class="line">    REGISTER_DECODER(MACE3,             mace3);</span><br><span class="line">    REGISTER_DECODER(MACE6,             mace6);</span><br><span class="line">    REGISTER_DECODER(METASOUND,         metasound);</span><br><span class="line">    REGISTER_ENCDEC (MLP,               mlp);</span><br><span class="line">    REGISTER_DECODER(MP1,               mp1);</span><br><span class="line">    REGISTER_DECODER(MP1FLOAT,          mp1float);</span><br><span class="line">    REGISTER_ENCDEC (MP2,               mp2);</span><br><span class="line">    REGISTER_DECODER(MP2FLOAT,          mp2float);</span><br><span class="line">    REGISTER_ENCODER(MP2FIXED,          mp2fixed);</span><br><span class="line">    REGISTER_DECODER(MP3,               mp3);</span><br><span class="line">    REGISTER_DECODER(MP3FLOAT,          mp3float);</span><br><span class="line">    REGISTER_DECODER(MP3ADU,            mp3adu);</span><br><span class="line">    REGISTER_DECODER(MP3ADUFLOAT,       mp3adufloat);</span><br><span class="line">    REGISTER_DECODER(MP3ON4,            mp3on4);</span><br><span class="line">    REGISTER_DECODER(MP3ON4FLOAT,       mp3on4float);</span><br><span class="line">    REGISTER_DECODER(MPC7,              mpc7);</span><br><span class="line">    REGISTER_DECODER(MPC8,              mpc8);</span><br><span class="line">    REGISTER_ENCDEC (NELLYMOSER,        nellymoser);</span><br><span class="line">    REGISTER_DECODER(ON2AVC,            on2avc);</span><br><span class="line">    REGISTER_ENCDEC (OPUS,              opus);</span><br><span class="line">    REGISTER_DECODER(PAF_AUDIO,         paf_audio);</span><br><span class="line">    REGISTER_DECODER(QCELP,             qcelp);</span><br><span class="line">    REGISTER_DECODER(QDM2,              qdm2);</span><br><span class="line">    REGISTER_DECODER(QDMC,              qdmc);</span><br><span class="line">    REGISTER_ENCDEC (RA_144,            ra_144);</span><br><span class="line">    REGISTER_DECODER(RA_288,            ra_288);</span><br><span class="line">    REGISTER_DECODER(RALF,              ralf);</span><br><span class="line">    REGISTER_DECODER(SHORTEN,           shorten);</span><br><span class="line">    REGISTER_DECODER(SIPR,              sipr);</span><br><span class="line">    REGISTER_DECODER(SMACKAUD,          smackaud);</span><br><span class="line">    REGISTER_ENCDEC (SONIC,             sonic);</span><br><span class="line">    REGISTER_ENCODER(SONIC_LS,          sonic_ls);</span><br><span class="line">    REGISTER_DECODER(TAK,               tak);</span><br><span class="line">    REGISTER_ENCDEC (TRUEHD,            truehd);</span><br><span class="line">    REGISTER_DECODER(TRUESPEECH,        truespeech);</span><br><span class="line">    REGISTER_ENCDEC (TTA,               tta);</span><br><span class="line">    REGISTER_DECODER(TWINVQ,            twinvq);</span><br><span class="line">    REGISTER_DECODER(VMDAUDIO,          vmdaudio);</span><br><span class="line">    REGISTER_ENCDEC (VORBIS,            vorbis);</span><br><span class="line">    REGISTER_ENCDEC (WAVPACK,           wavpack);</span><br><span class="line">    REGISTER_DECODER(WMALOSSLESS,       wmalossless);</span><br><span class="line">    REGISTER_DECODER(WMAPRO,            wmapro);</span><br><span class="line">    REGISTER_ENCDEC (WMAV1,             wmav1);</span><br><span class="line">    REGISTER_ENCDEC (WMAV2,             wmav2);</span><br><span class="line">    REGISTER_DECODER(WMAVOICE,          wmavoice);</span><br><span class="line">    REGISTER_DECODER(WS_SND1,           ws_snd1);</span><br><span class="line">    REGISTER_DECODER(XMA1,              xma1);</span><br><span class="line">    REGISTER_DECODER(XMA2,              xma2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* PCM codecs */</span></span><br><span class="line">    REGISTER_ENCDEC (PCM_ALAW,          pcm_alaw);</span><br><span class="line">    REGISTER_DECODER(PCM_BLURAY,        pcm_bluray);</span><br><span class="line">    REGISTER_DECODER(PCM_DVD,           pcm_dvd);</span><br><span class="line">    REGISTER_DECODER(PCM_F16LE,         pcm_f16le);</span><br><span class="line">    REGISTER_DECODER(PCM_F24LE,         pcm_f24le);</span><br><span class="line">    REGISTER_ENCDEC (PCM_F32BE,         pcm_f32be);</span><br><span class="line">    REGISTER_ENCDEC (PCM_F32LE,         pcm_f32le);</span><br><span class="line">    REGISTER_ENCDEC (PCM_F64BE,         pcm_f64be);</span><br><span class="line">    REGISTER_ENCDEC (PCM_F64LE,         pcm_f64le);</span><br><span class="line">    REGISTER_DECODER(PCM_LXF,           pcm_lxf);</span><br><span class="line">    REGISTER_ENCDEC (PCM_MULAW,         pcm_mulaw);</span><br><span class="line">    REGISTER_ENCDEC (PCM_S8,            pcm_s8);</span><br><span class="line">    REGISTER_ENCDEC (PCM_S8_PLANAR,     pcm_s8_planar);</span><br><span class="line">    REGISTER_ENCDEC (PCM_S16BE,         pcm_s16be);</span><br><span class="line">    REGISTER_ENCDEC (PCM_S16BE_PLANAR,  pcm_s16be_planar);</span><br><span class="line">    REGISTER_ENCDEC (PCM_S16LE,         pcm_s16le);</span><br><span class="line">    REGISTER_ENCDEC (PCM_S16LE_PLANAR,  pcm_s16le_planar);</span><br><span class="line">    REGISTER_ENCDEC (PCM_S24BE,         pcm_s24be);</span><br><span class="line">    REGISTER_ENCDEC (PCM_S24DAUD,       pcm_s24daud);</span><br><span class="line">    REGISTER_ENCDEC (PCM_S24LE,         pcm_s24le);</span><br><span class="line">    REGISTER_ENCDEC (PCM_S24LE_PLANAR,  pcm_s24le_planar);</span><br><span class="line">    REGISTER_ENCDEC (PCM_S32BE,         pcm_s32be);</span><br><span class="line">    REGISTER_ENCDEC (PCM_S32LE,         pcm_s32le);</span><br><span class="line">    REGISTER_ENCDEC (PCM_S32LE_PLANAR,  pcm_s32le_planar);</span><br><span class="line">    REGISTER_ENCDEC (PCM_S64BE,         pcm_s64be);</span><br><span class="line">    REGISTER_ENCDEC (PCM_S64LE,         pcm_s64le);</span><br><span class="line">    REGISTER_ENCDEC (PCM_U8,            pcm_u8);</span><br><span class="line">    REGISTER_ENCDEC (PCM_U16BE,         pcm_u16be);</span><br><span class="line">    REGISTER_ENCDEC (PCM_U16LE,         pcm_u16le);</span><br><span class="line">    REGISTER_ENCDEC (PCM_U24BE,         pcm_u24be);</span><br><span class="line">    REGISTER_ENCDEC (PCM_U24LE,         pcm_u24le);</span><br><span class="line">    REGISTER_ENCDEC (PCM_U32BE,         pcm_u32be);</span><br><span class="line">    REGISTER_ENCDEC (PCM_U32LE,         pcm_u32le);</span><br><span class="line">    REGISTER_DECODER(PCM_ZORK,          pcm_zork);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* DPCM codecs */</span></span><br><span class="line">    REGISTER_DECODER(GREMLIN_DPCM,      gremlin_dpcm);</span><br><span class="line">    REGISTER_DECODER(INTERPLAY_DPCM,    interplay_dpcm);</span><br><span class="line">    REGISTER_ENCDEC (ROQ_DPCM,          roq_dpcm);</span><br><span class="line">    REGISTER_DECODER(SOL_DPCM,          sol_dpcm);</span><br><span class="line">    REGISTER_DECODER(XAN_DPCM,          xan_dpcm);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* ADPCM codecs */</span></span><br><span class="line">    REGISTER_DECODER(ADPCM_4XM,         adpcm_4xm);</span><br><span class="line">    REGISTER_ENCDEC (ADPCM_ADX,         adpcm_adx);</span><br><span class="line">    REGISTER_DECODER(ADPCM_AFC,         adpcm_afc);</span><br><span class="line">    REGISTER_DECODER(ADPCM_AICA,        adpcm_aica);</span><br><span class="line">    REGISTER_DECODER(ADPCM_CT,          adpcm_ct);</span><br><span class="line">    REGISTER_DECODER(ADPCM_DTK,         adpcm_dtk);</span><br><span class="line">    REGISTER_DECODER(ADPCM_EA,          adpcm_ea);</span><br><span class="line">    REGISTER_DECODER(ADPCM_EA_MAXIS_XA, adpcm_ea_maxis_xa);</span><br><span class="line">    REGISTER_DECODER(ADPCM_EA_R1,       adpcm_ea_r1);</span><br><span class="line">    REGISTER_DECODER(ADPCM_EA_R2,       adpcm_ea_r2);</span><br><span class="line">    REGISTER_DECODER(ADPCM_EA_R3,       adpcm_ea_r3);</span><br><span class="line">    REGISTER_DECODER(ADPCM_EA_XAS,      adpcm_ea_xas);</span><br><span class="line">    REGISTER_ENCDEC (ADPCM_G722,        adpcm_g722);</span><br><span class="line">    REGISTER_ENCDEC (ADPCM_G726,        adpcm_g726);</span><br><span class="line">    REGISTER_ENCDEC (ADPCM_G726LE,      adpcm_g726le);</span><br><span class="line">    REGISTER_DECODER(ADPCM_IMA_AMV,     adpcm_ima_amv);</span><br><span class="line">    REGISTER_DECODER(ADPCM_IMA_APC,     adpcm_ima_apc);</span><br><span class="line">    REGISTER_DECODER(ADPCM_IMA_DAT4,    adpcm_ima_dat4);</span><br><span class="line">    REGISTER_DECODER(ADPCM_IMA_DK3,     adpcm_ima_dk3);</span><br><span class="line">    REGISTER_DECODER(ADPCM_IMA_DK4,     adpcm_ima_dk4);</span><br><span class="line">    REGISTER_DECODER(ADPCM_IMA_EA_EACS, adpcm_ima_ea_eacs);</span><br><span class="line">    REGISTER_DECODER(ADPCM_IMA_EA_SEAD, adpcm_ima_ea_sead);</span><br><span class="line">    REGISTER_DECODER(ADPCM_IMA_ISS,     adpcm_ima_iss);</span><br><span class="line">    REGISTER_DECODER(ADPCM_IMA_OKI,     adpcm_ima_oki);</span><br><span class="line">    REGISTER_ENCDEC (ADPCM_IMA_QT,      adpcm_ima_qt);</span><br><span class="line">    REGISTER_DECODER(ADPCM_IMA_RAD,     adpcm_ima_rad);</span><br><span class="line">    REGISTER_DECODER(ADPCM_IMA_SMJPEG,  adpcm_ima_smjpeg);</span><br><span class="line">    REGISTER_ENCDEC (ADPCM_IMA_WAV,     adpcm_ima_wav);</span><br><span class="line">    REGISTER_DECODER(ADPCM_IMA_WS,      adpcm_ima_ws);</span><br><span class="line">    REGISTER_ENCDEC (ADPCM_MS,          adpcm_ms);</span><br><span class="line">    REGISTER_DECODER(ADPCM_MTAF,        adpcm_mtaf);</span><br><span class="line">    REGISTER_DECODER(ADPCM_PSX,         adpcm_psx);</span><br><span class="line">    REGISTER_DECODER(ADPCM_SBPRO_2,     adpcm_sbpro_2);</span><br><span class="line">    REGISTER_DECODER(ADPCM_SBPRO_3,     adpcm_sbpro_3);</span><br><span class="line">    REGISTER_DECODER(ADPCM_SBPRO_4,     adpcm_sbpro_4);</span><br><span class="line">    REGISTER_ENCDEC (ADPCM_SWF,         adpcm_swf);</span><br><span class="line">    REGISTER_DECODER(ADPCM_THP,         adpcm_thp);</span><br><span class="line">    REGISTER_DECODER(ADPCM_THP_LE,      adpcm_thp_le);</span><br><span class="line">    REGISTER_DECODER(ADPCM_VIMA,        adpcm_vima);</span><br><span class="line">    REGISTER_DECODER(ADPCM_XA,          adpcm_xa);</span><br><span class="line">    REGISTER_ENCDEC (ADPCM_YAMAHA,      adpcm_yamaha);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* subtitles */</span></span><br><span class="line">    REGISTER_ENCDEC (SSA,               ssa);</span><br><span class="line">    REGISTER_ENCDEC (ASS,               ass);</span><br><span class="line">    REGISTER_DECODER(CCAPTION,          ccaption);</span><br><span class="line">    REGISTER_ENCDEC (DVBSUB,            dvbsub);</span><br><span class="line">    REGISTER_ENCDEC (DVDSUB,            dvdsub);</span><br><span class="line">    REGISTER_DECODER(JACOSUB,           jacosub);</span><br><span class="line">    REGISTER_DECODER(MICRODVD,          microdvd);</span><br><span class="line">    REGISTER_ENCDEC (MOVTEXT,           movtext);</span><br><span class="line">    REGISTER_DECODER(MPL2,              mpl2);</span><br><span class="line">    REGISTER_DECODER(PGSSUB,            pgssub);</span><br><span class="line">    REGISTER_DECODER(PJS,               pjs);</span><br><span class="line">    REGISTER_DECODER(REALTEXT,          realtext);</span><br><span class="line">    REGISTER_DECODER(SAMI,              sami);</span><br><span class="line">    REGISTER_ENCDEC (SRT,               srt);</span><br><span class="line">    REGISTER_DECODER(STL,               stl);</span><br><span class="line">    REGISTER_ENCDEC (SUBRIP,            subrip);</span><br><span class="line">    REGISTER_DECODER(SUBVIEWER,         subviewer);</span><br><span class="line">    REGISTER_DECODER(SUBVIEWER1,        subviewer1);</span><br><span class="line">    REGISTER_ENCDEC (TEXT,              text);</span><br><span class="line">    REGISTER_DECODER(VPLAYER,           vplayer);</span><br><span class="line">    REGISTER_ENCDEC (WEBVTT,            webvtt);</span><br><span class="line">    REGISTER_ENCDEC (XSUB,              xsub);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* external libraries */</span></span><br><span class="line">    REGISTER_ENCDEC (AAC_AT,            aac_at);</span><br><span class="line">    REGISTER_DECODER(AC3_AT,            ac3_at);</span><br><span class="line">    REGISTER_DECODER(ADPCM_IMA_QT_AT,   adpcm_ima_qt_at);</span><br><span class="line">    REGISTER_ENCDEC (ALAC_AT,           alac_at);</span><br><span class="line">    REGISTER_DECODER(AMR_NB_AT,         amr_nb_at);</span><br><span class="line">    REGISTER_DECODER(EAC3_AT,           eac3_at);</span><br><span class="line">    REGISTER_DECODER(GSM_MS_AT,         gsm_ms_at);</span><br><span class="line">    REGISTER_ENCDEC (ILBC_AT,           ilbc_at);</span><br><span class="line">    REGISTER_DECODER(MP1_AT,            mp1_at);</span><br><span class="line">    REGISTER_DECODER(MP2_AT,            mp2_at);</span><br><span class="line">    REGISTER_DECODER(MP3_AT,            mp3_at);</span><br><span class="line">    REGISTER_ENCDEC (PCM_ALAW_AT,       pcm_alaw_at);</span><br><span class="line">    REGISTER_ENCDEC (PCM_MULAW_AT,      pcm_mulaw_at);</span><br><span class="line">    REGISTER_DECODER(QDMC_AT,           qdmc_at);</span><br><span class="line">    REGISTER_DECODER(QDM2_AT,           qdm2_at);</span><br><span class="line">    REGISTER_DECODER(LIBCELT,           libcelt);</span><br><span class="line">    REGISTER_ENCDEC (LIBFDK_AAC,        libfdk_aac);</span><br><span class="line">    REGISTER_ENCDEC (LIBGSM,            libgsm);</span><br><span class="line">    REGISTER_ENCDEC (LIBGSM_MS,         libgsm_ms);</span><br><span class="line">    REGISTER_ENCDEC (LIBILBC,           libilbc);</span><br><span class="line">    REGISTER_ENCODER(LIBMP3LAME,        libmp3lame);</span><br><span class="line">    REGISTER_ENCDEC (LIBOPENCORE_AMRNB, libopencore_amrnb);</span><br><span class="line">    REGISTER_DECODER(LIBOPENCORE_AMRWB, libopencore_amrwb);</span><br><span class="line">    REGISTER_ENCDEC (LIBOPENJPEG,       libopenjpeg);</span><br><span class="line">    REGISTER_ENCDEC (LIBOPUS,           libopus);</span><br><span class="line">    REGISTER_DECODER(LIBRSVG,           librsvg);</span><br><span class="line">    REGISTER_ENCODER(LIBSHINE,          libshine);</span><br><span class="line">    REGISTER_ENCDEC (LIBSPEEX,          libspeex);</span><br><span class="line">    REGISTER_ENCODER(LIBTHEORA,         libtheora);</span><br><span class="line">    REGISTER_ENCODER(LIBTWOLAME,        libtwolame);</span><br><span class="line">    REGISTER_ENCODER(LIBVO_AMRWBENC,    libvo_amrwbenc);</span><br><span class="line">    REGISTER_ENCDEC (LIBVORBIS,         libvorbis);</span><br><span class="line">    REGISTER_ENCDEC (LIBVPX_VP8,        libvpx_vp8);</span><br><span class="line">    REGISTER_ENCDEC (LIBVPX_VP9,        libvpx_vp9);</span><br><span class="line">    REGISTER_ENCODER(LIBWAVPACK,        libwavpack);</span><br><span class="line">    REGISTER_ENCODER(LIBWEBP_ANIM,      libwebp_anim);  <span class="comment">/* preferred over libwebp */</span></span><br><span class="line">    REGISTER_ENCODER(LIBWEBP,           libwebp);</span><br><span class="line">    REGISTER_ENCODER(LIBX262,           libx262);</span><br><span class="line">    REGISTER_ENCODER(LIBX264,           libx264);</span><br><span class="line">    REGISTER_ENCODER(LIBX264RGB,        libx264rgb);</span><br><span class="line">    REGISTER_ENCODER(LIBX265,           libx265);</span><br><span class="line">    REGISTER_ENCODER(LIBXAVS,           libxavs);</span><br><span class="line">    REGISTER_ENCODER(LIBXVID,           libxvid);</span><br><span class="line">    REGISTER_DECODER(LIBZVBI_TELETEXT,  libzvbi_teletext);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* text */</span></span><br><span class="line">    REGISTER_DECODER(BINTEXT,           bintext);</span><br><span class="line">    REGISTER_DECODER(XBIN,              xbin);</span><br><span class="line">    REGISTER_DECODER(IDF,               idf);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* external libraries, that shouldn't be used by default if one of the</span><br><span class="line">     * above is available */</span></span><br><span class="line">    REGISTER_ENCODER(H263_V4L2M2M,      h263_v4l2m2m);</span><br><span class="line">    REGISTER_ENCDEC (LIBOPENH264,       libopenh264);</span><br><span class="line">    REGISTER_DECODER(H264_CUVID,        h264_cuvid);</span><br><span class="line">    REGISTER_ENCODER(H264_NVENC,        h264_nvenc);</span><br><span class="line">    REGISTER_ENCODER(H264_OMX,          h264_omx);</span><br><span class="line">    REGISTER_ENCODER(H264_QSV,          h264_qsv);</span><br><span class="line">    REGISTER_ENCODER(H264_V4L2M2M,      h264_v4l2m2m);</span><br><span class="line">    REGISTER_ENCODER(H264_VAAPI,        h264_vaapi);</span><br><span class="line">    REGISTER_ENCODER(H264_VIDEOTOOLBOX, h264_videotoolbox);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">if</span> FF_API_NVENC_OLD_NAME</span></span><br><span class="line">    REGISTER_ENCODER(NVENC,             nvenc);</span><br><span class="line">    REGISTER_ENCODER(NVENC_H264,        nvenc_h264);</span><br><span class="line">    REGISTER_ENCODER(NVENC_HEVC,        nvenc_hevc);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">endif</span></span></span><br><span class="line">    REGISTER_DECODER(HEVC_CUVID,        hevc_cuvid);</span><br><span class="line">    REGISTER_DECODER(HEVC_MEDIACODEC,   hevc_mediacodec);</span><br><span class="line">    REGISTER_ENCODER(HEVC_NVENC,        hevc_nvenc);</span><br><span class="line">    REGISTER_ENCODER(HEVC_QSV,          hevc_qsv);</span><br><span class="line">    REGISTER_ENCODER(HEVC_V4L2M2M,      hevc_v4l2m2m);</span><br><span class="line">    REGISTER_ENCODER(HEVC_VAAPI,        hevc_vaapi);</span><br><span class="line">    REGISTER_ENCODER(LIBKVAZAAR,        libkvazaar);</span><br><span class="line">    REGISTER_DECODER(MJPEG_CUVID,       mjpeg_cuvid);</span><br><span class="line">    REGISTER_ENCODER(MJPEG_VAAPI,       mjpeg_vaapi);</span><br><span class="line">    REGISTER_DECODER(MPEG1_CUVID,       mpeg1_cuvid);</span><br><span class="line">    REGISTER_DECODER(MPEG2_CUVID,       mpeg2_cuvid);</span><br><span class="line">    REGISTER_ENCODER(MPEG2_QSV,         mpeg2_qsv);</span><br><span class="line">    REGISTER_ENCODER(MPEG2_VAAPI,       mpeg2_vaapi);</span><br><span class="line">    REGISTER_DECODER(MPEG4_CUVID,       mpeg4_cuvid);</span><br><span class="line">    REGISTER_DECODER(MPEG4_MEDIACODEC,  mpeg4_mediacodec);</span><br><span class="line">    REGISTER_ENCODER(MPEG4_V4L2M2M,     mpeg4_v4l2m2m);</span><br><span class="line">    REGISTER_DECODER(VC1_CUVID,         vc1_cuvid);</span><br><span class="line">    REGISTER_DECODER(VP8_CUVID,         vp8_cuvid);</span><br><span class="line">    REGISTER_DECODER(VP8_MEDIACODEC,    vp8_mediacodec);</span><br><span class="line">    REGISTER_DECODER(VP8_QSV,           vp8_qsv);</span><br><span class="line">    REGISTER_ENCODER(VP8_V4L2M2M,       vp8_v4l2m2m);</span><br><span class="line">    REGISTER_ENCODER(VP8_VAAPI,         vp8_vaapi);</span><br><span class="line">    REGISTER_DECODER(VP9_CUVID,         vp9_cuvid);</span><br><span class="line">    REGISTER_DECODER(VP9_MEDIACODEC,    vp9_mediacodec);</span><br><span class="line">    REGISTER_ENCODER(VP9_VAAPI,         vp9_vaapi);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* parsers */</span></span><br><span class="line">    REGISTER_PARSER(AAC,                aac);</span><br><span class="line">    REGISTER_PARSER(AAC_LATM,           aac_latm);</span><br><span class="line">    REGISTER_PARSER(AC3,                ac3);</span><br><span class="line">    REGISTER_PARSER(ADX,                adx);</span><br><span class="line">    REGISTER_PARSER(BMP,                bmp);</span><br><span class="line">    REGISTER_PARSER(CAVSVIDEO,          cavsvideo);</span><br><span class="line">    REGISTER_PARSER(COOK,               cook);</span><br><span class="line">    REGISTER_PARSER(DCA,                dca);</span><br><span class="line">    REGISTER_PARSER(DIRAC,              dirac);</span><br><span class="line">    REGISTER_PARSER(DNXHD,              dnxhd);</span><br><span class="line">    REGISTER_PARSER(DPX,                dpx);</span><br><span class="line">    REGISTER_PARSER(DVAUDIO,            dvaudio);</span><br><span class="line">    REGISTER_PARSER(DVBSUB,             dvbsub);</span><br><span class="line">    REGISTER_PARSER(DVDSUB,             dvdsub);</span><br><span class="line">    REGISTER_PARSER(DVD_NAV,            dvd_nav);</span><br><span class="line">    REGISTER_PARSER(FLAC,               flac);</span><br><span class="line">    REGISTER_PARSER(G729,               g729);</span><br><span class="line">    REGISTER_PARSER(GSM,                gsm);</span><br><span class="line">    REGISTER_PARSER(H261,               h261);</span><br><span class="line">    REGISTER_PARSER(H263,               h263);</span><br><span class="line">    REGISTER_PARSER(H264,               h264);</span><br><span class="line">    REGISTER_PARSER(HEVC,               hevc);</span><br><span class="line">    REGISTER_PARSER(MJPEG,              mjpeg);</span><br><span class="line">    REGISTER_PARSER(MLP,                mlp);</span><br><span class="line">    REGISTER_PARSER(MPEG4VIDEO,         mpeg4video);</span><br><span class="line">    REGISTER_PARSER(MPEGAUDIO,          mpegaudio);</span><br><span class="line">    REGISTER_PARSER(MPEGVIDEO,          mpegvideo);</span><br><span class="line">    REGISTER_PARSER(OPUS,               opus);</span><br><span class="line">    REGISTER_PARSER(PNG,                png);</span><br><span class="line">    REGISTER_PARSER(PNM,                pnm);</span><br><span class="line">    REGISTER_PARSER(RV30,               rv30);</span><br><span class="line">    REGISTER_PARSER(RV40,               rv40);</span><br><span class="line">    REGISTER_PARSER(SIPR,               sipr);</span><br><span class="line">    REGISTER_PARSER(TAK,                tak);</span><br><span class="line">    REGISTER_PARSER(VC1,                vc1);</span><br><span class="line">    REGISTER_PARSER(VORBIS,             vorbis);</span><br><span class="line">    REGISTER_PARSER(VP3,                vp3);</span><br><span class="line">    REGISTER_PARSER(VP8,                vp8);</span><br><span class="line">    REGISTER_PARSER(VP9,                vp9);</span><br><span class="line">    REGISTER_PARSER(XMA,                xma);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">avcodec_register_all</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> AVOnce control = AV_ONCE_INIT;</span><br><span class="line"></span><br><span class="line">    ff_thread_once(&amp;control, register_all);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="编码器"><a href="#编码器" class="headerlink" title="编码器"></a>编码器</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">define</span> REGISTER_ENCODER(X, x)                                          \</span><br><span class="line">    &#123;                                                                   \</span><br><span class="line">        extern AVCodec ff_##x##_encoder;                                \</span><br><span class="line">        <span class="keyword">if</span> (CONFIG_##X##_ENCODER)                                       \</span><br><span class="line">            avcodec_register(&amp;ff_##x##_encoder);                        \</span><br><span class="line">    &#125;</span></span><br></pre></td></tr></table></figure>
<p>再来看看 <code>avcodec_register()</code> 方法：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">av_cold <span class="keyword">void</span> <span class="title">avcodec_register</span><span class="params">(AVCodec *codec)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    AVCodec **p;</span><br><span class="line">    avcodec_init();</span><br><span class="line">    p = last_avcodec;</span><br><span class="line">    codec-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(*p || avpriv_atomic_ptr_cas((<span class="keyword">void</span> * <span class="keyword">volatile</span> *)p, <span class="literal">NULL</span>, codec))</span><br><span class="line">        p = &amp;(*p)-&gt;next;</span><br><span class="line">    last_avcodec = &amp;codec-&gt;next;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (codec-&gt;init_static_data)</span><br><span class="line">        codec-&gt;init_static_data(codec);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>last_avcodec</code> 是 AVCodec 的一个全局静态变量，指向 <code>first_avcodec</code> ，也就是 AVCodec 链表的头部地址</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* encoder management */</span></span><br><span class="line"><span class="keyword">static</span> AVCodec *first_avcodec = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">static</span> AVCodec **last_avcodec = &amp;first_avcodec;</span><br></pre></td></tr></table></figure>
<p>同理，<strong>解码器</strong>，<strong>Parser</strong>，<strong>BSF（bitstream filters，比特流滤镜）</strong>，<strong>HWACCEL（hardware accelerators，硬件加速器）</strong>的注册方式都是类似的</p>
<h2 id="调用关系"><a href="#调用关系" class="headerlink" title="调用关系"></a>调用关系</h2><p><img src="http://yydcdut.com/img/ijkplayer_ffmpeg_av_register_all.png" alt="img"></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://me.csdn.net/leixiaohua1020" target="_blank" rel="external">雷霄骅 - FFMPEG</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2019/02/23/ijkplayer-ffmpeg-avformat-open-input/" class="prev">PREV</a><a href="/2019/02/03/ijkplayer-ffmpeg-flow/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2019 <a href="http://yydcdut.com">yydcdut</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>